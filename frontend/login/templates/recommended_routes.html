{% extends 'base.html' %}

    {% block stylesheets%}
         <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
        <link rel="stylesheet" type="text/css" href="../static/css/recommendedRoutes.css">
    {% endblock %}
    {% block body %}
        <div id="gigaDiv">
            <h2 id="gigaH2">Percorsi raccomandati</h2>
            {% for route in recommended_routes %}
                <div id="divAccordion" class="accordion accordion-background-hover accordion-background-active">
                    <div id="divAcc{{ recommended_routes.index(route) }}" class="accordion-item">
                        <h2 class="accordion-header" id="head{{ recommended_routes.index(route) }}">
                            <button id="btnAcc{{ recommended_routes.index(route) }}" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#acc{{ recommended_routes.index(route) }}" aria-expanded="false" aria-controls="acc{{ recommended_routes.index(route) }}">
                            PERCORSO {{ recommended_routes.index(route) }}
                            </button>
                        </h2>
                        <div id="acc{{ recommended_routes.index(route) }}" class="accordion-collapse collapse" data-bs-parent="#divAcc" role="region" aria-labelledby="head{{ recommended_routes.index(route) }}">
                            <div class="accordion-body">
                            <div class="container">
                              <div class="row">
                                <div class="col-sm-6">
                                    DATI + ROBA VARIA {{ route }}
                                </div>
                                     <div class="col-sm-6">
                                        <div class="map" id="map{{ recommended_routes.index(route) }}"></div>
                                            <script>
                                                var map{{ recommended_routes.index(route) }} = L.map('map{{ recommended_routes.index(route) }}');


                                                L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                                    maxZoom: 19,
                                                    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
                                                }).addTo(map{{ recommended_routes.index(route) }});


                                                var myCollapsible{{ recommended_routes.index(route) }} = document.getElementById('acc{{ recommended_routes.index(route) }}');
                                                myCollapsible{{ recommended_routes.index(route) }}.addEventListener('shown.bs.collapse', function () {
                                                });
                                            </script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endblock %}


